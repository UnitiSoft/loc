System.register(["./p-75f29139.system.js","./p-ddc18213.system.js"],(function(e){"use strict";var t,r,n,a;return{setters:[function(e){t=e.i;r=e.a;n=e.b},function(e){a=e.g}],execute:function(){e({a:w,b:b,c:g,d:m,u:S});var o={get:function(e){var t=e.feature,r=e.separator,n=e.type,a=e.path;switch(n){case"memory":return v(t+r+(a||""));case"local":var o=JSON.parse(localStorage.getItem(t));return!!a?v(a,o,r):o;case"session":var i=JSON.parse(sessionStorage.getItem(t));return!!a?v(a,i,r):i;default:return v(t+r+a)}},set:function(e,t,r,n){var a=!!e.path?f(e.path.split(e.separator),t):t;switch(e.type){case"memory":s(e,a,r,n,t);break;case"local":var o=JSON.parse(localStorage.getItem(e.feature))||{};localStorage.setItem(e.feature,JSON.stringify(i(r,n,o,a,t)));break;case"session":var u=JSON.parse(sessionStorage.getItem(e.feature))||{};sessionStorage.setItem(e.feature,JSON.stringify(i(r,n,u,a,t)));break;default:s(e,a,r,n,t);break}}};function i(e,t,r,n,a){return e?l(r,n):p(r,n,t,a)}function s(e,t,r,n,a){u(e.feature.split(e.separator),window.top);var o=c(e.feature.split(e.separator),window.top);u(e.feature.split(e.separator),window.top,r?l(o,t):p(o,t,n,a))}function u(e,t,r){var n=e.shift();t[n]=t[n]||{};if(e.length>0){u(e,t[n],r)}else{t[n]=r||t[n]}}function c(e,t){var r=e.shift();return e.length>0?c(e,t[r]):t[r]}function f(e,t){var r,n;var a=e.shift();return e.length>0?(r={},r[a]=f(e,t),r):(n={},n[a]=t,n)}function l(e,t){var r=Object.assign({},e);Object.keys(t).forEach((function(a){r[a]=a in e?n(e[a])&&n(t[a])?l(e[a],t[a]):e[a]:t[a]}));return r}function p(e,t,r,a){var o=Object.assign({},e);Object.keys(t).forEach((function(i){o[i]=i in e&&n(t[i])&&!(r&&t[i]===a)?p(e[i],t[i],r,a):t[i]}));return o}function v(e,t,r){if(t===void 0){t=window.top}if(r===void 0){r="."}var n=Array.isArray(e)?e:e.split(r);return n.reduce((function(e,t){return e&&e[t]}),t)}function g(e,t,r){var n=t?r?e.querySelectorAll(t):[e.querySelector(t)]:e.children;if(!n||!n[0]){console.error("No Element target: "+t);console.warn("for Element",e)}return n}var d=e("U",{toggle:function(e){return!o.get(e)},increment:function(e,t){var r=o.get(e);return(a(r)*100+t.state*100)/100},decrement:function(e,t){var r=o.get(e);return(a(r)*100-t.state*100)/100},getLink:function(e){return e.$event.target["pathname"]||h(e.$event.path)}});function h(e){var t="";Array.from(e).some((function(e){t=e["pathname"]||"";return!!e["pathname"]}));return t}function m(e,r){var n=e.feature,i=e.separator,s=e.type,u=e.path;var c=r.el,f=r.all,l=r.equal,p=r.noEqual,v=r.target,g=r.prop,d=r.value;var h=o.get({feature:n,separator:i,type:s,path:u});var m=t(l)&&h===a(l)||t(p)&&h!==a(p);var w=t(d)?t(l)||t(p)?m?y(d):undefined:y(d):t(l)||t(p)?m:h;var b=JSON.parse(localStorage.getItem("uniStoreDebug"));if(b&&b[s]&&b[s].includes("listen")){console.log("%cSTORE LISTEN:","color: darkorange; font-weight: bold",{type:s,feature:n,path:u,prop:g,val:w,element:c})}S(c,g,w,v,f)}function y(e){return r(e)?JSON.parse(e):e}function S(e,t,r,n,a){Array.from(g(e,n,a)).forEach((function(e){if(e){e[t]=r}}))}function w(e){return e.feature+e.separator+e.type+(e.path?e.separator+e.path:"")}function b(e,t,r){o.set(e,r,t.init,t.clean);var a=JSON.parse(localStorage.getItem("uniStoreDebug"));if(a&&a[e.type]&&a[e.type].includes("set")){A(e,t)}setTimeout((function(){var a=window.top.document.body.querySelectorAll(t.dispatch);O(a,e,r);if(n(r)){j(a,w(e),e.separator,r)}E(t,e,r)}))}function E(e,t,r){var a=window.top.document.body.querySelectorAll("iframe");if(a.length>0){Array.from(a||[]).forEach((function(a){var o,i;var s=(i=(o=a.contentDocument)===null||o===void 0?void 0:o.body)===null||i===void 0?void 0:i.querySelectorAll(e.dispatch);O(s,t,r);if(n(r)){j(s,w(t),t.separator,r)}}))}}function O(e,t,r){var n=w(t);Array.from(e||[]).forEach((function(e){e.dispatchEvent(new CustomEvent(n,{detail:r}))}));window.top.dispatchEvent(new CustomEvent(n,{detail:r}));var a=Object.assign({},t);var i=t.path.split(".");i.pop();if(i.length>0){a.path=i.join(".");O(e,a,o.get(a))}}function j(e,t,r,a){var o=function(a,o){var i=t+r+a;if(n(o)){j(e,i,r,o)}Array.from(e||[]).forEach((function(e){e.dispatchEvent(new CustomEvent(i,{detail:o}))}));window.top.dispatchEvent(new CustomEvent(i,{detail:o}))};for(var i=0,s=Object.entries(a);i<s.length;i++){var u=s[i],c=u[0],f=u[1];o(c,f)}}function A(e,t,r){var n=o.get(e);console.log("%cSTORE SET:","color: darkred; font-weight: bold",Object.assign(Object.assign(Object.assign({},e),t),{value:n,$event:r}))}}}}));